#!/usr/bin/env node

process.title = 'ember';

const emberCliPath = require.resolve('ember-cli'); // TODO: take into account process.cwd()
const cliReferenceIsLocal = true; // TODO: do the proper check
const cli = cliReferenceIsLocal ? require(emberCliPath) : require('ember-cli');

// TODO: exit if there is an error

// TODO: heimdalljs is used for instrumentation(benchmarking):
// NOTE: require('../utilities/instrumentation').instrumentationEnabled() this enabled benchmarking

// NOTE: investigate Leek(analytics and analyticsArgs), check what UI is and clientID and CLI

// TODO: Project instance holds meta data of the project including addons: models/project.js, there is configcache?
// NOTE: /src -> means Module Unification
// NOTE: /models/addon-discovery and /models/addon-factory
// NOTE: maybe different babel targets across addons?
// NOTE: maybe I need to take care of blueprints -> models/project.js

// NOTE: generate test file on generator

// function isEmberCliProject(pkg) {
//   return pkg && (
//     (pkg.dependencies && Object.keys(pkg.dependencies).indexOf('ember-cli') !== -1) ||
//     (pkg.devDependencies && Object.keys(pkg.devDependencies).indexOf('ember-cli') !== -1)
//   );
// }

// NOTE: /models/command each command goes through this object, check this.runTask(name, options)
// Task(environment) call

// NOTE: Build and BuildWatch tasks does building!
// NOTE: then show asset sizes

// TODO: first parse ember-cli-build.js
